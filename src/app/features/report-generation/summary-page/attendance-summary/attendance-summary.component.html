<div class="container border border-gray-300 rounded-lg shadow-md" [class.min-w-[500px]]="showManHours()">
    <div class="flex justify-between items-center rounded-t-[20px]">
        <div class="px-[12px] py-[4px] border-r-[2px] border-white-600 e-flex">
            <h3 class="text-[17px] font-light text-[#000000]">Service Provider</h3>
        </div>

        <div class="px-[12px] py-[4px] e-flex">
            <h3 class="text-[17px] font-light text-[#000000]">Active Days</h3>
        </div>

        @if (showManHours()) {
            <div class="px-[12px] py-[4px] border-l-[2px] border-white-600 e-flex">
                <h3 class="text-[17px] font-light text-[#000000]">Man Hours</h3>
            </div>
        }
        
    </div>

    <!-- Service Provider List -->
    <div class="p-[2px]">
        <!-- Item 1 -->
       @for (summary of attendanceSummary()?.attendance_summary; track summary?.contract_name) {
        <div class="flex items-center px-[4px] py-[2px] rounded-[60px]" [class.bg-red-50]="summary?.color_theme === 'critical'">
            
            @if(summary?.service_provider_profile_url) {
                <img [src]="summary?.service_provider_profile_url" [alt]="summary?.service_provider_name" class="w-[50px] h-[50px] rounded-full object-cover" />
            } @else if (summary?.service_provider_name) {
                <div class="w-[50px] h-[50px] rounded-full bg-gray-200 flex items-center justify-center text-[#000000] text-sm">
                    {{summary?.service_provider_name.charAt(0)}}
                </div>
            }

            <div class="flex-1 ml-4">
                @if (summary?.service_provider_name) {
                    <p class="text-[18px] font-semibold text-[#000000]">{{summary?.service_provider_name}}</p>
                }
                <p class="text-[14px] font-normal underline text-[#000000]">{{summary?.contract_name}}</p>
            </div>

            <div class="e-flex">
                <p class="text-[24px] font-extrabold text-[#000000]">{{summary?.active_days_count}}</p>
                <p class="text-[13px] font-semibold text-[#000000]">out of {{attendanceSummary()?.total_days_count}}</p>
            </div>

            @if (summary?.man_hours) {
                <div class="text-[#444444] e-flex">
                    <p class="text-[26px] font-extrabold">
                        {{summary?.man_hours}} 
                        @if(summary?.man_hours > 0) {
                            +
                        }
                        @if (summary?.worked_overtime) {
                            <sub class="text-[13px] font-semibold text-[#444444]">OT</sub>
                        }
                    </p>
                </div>
            }
        </div>
       }

    </div>
</div>